// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model User {
  id Int @id @default(autoincrement())
  fname String
  lname String
  email String @unique
  phone_number Int @unique
  role Role @default(USER)
  password String
  token String?
  contracts  Contracts[]


  created_at  DateTime @default(now())
  updatedAt DateTime @updatedAt
  @@map("User")
}
model Cars {
  id Int @id @default(autoincrement())
  car_name String
  car_position Int
  year Int
  car_price Int

  contracts  Contracts[]


  created_at  DateTime @default(now())
  updatedAt DateTime @updatedAt
 
  @@map("Cars")
}
model Contracts {
  id Int @id @default(autoincrement())
  navbat Int
  ready_date String
  client User @relation(fields: [clientId], references: [id] )
  clientId Int
  car Cars @relation(fields: [carId], references: [id])
  carId Int
  payment Boolean @default(false)
  created_at  DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Cash {
  id Int @id @default(autoincrement())
  cash Int
}
enum Role {
  ADMIN    @map("admin")
  USER @map("user")

  @@map("_Role")
}